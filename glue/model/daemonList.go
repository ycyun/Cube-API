package model

import (
	"fmt"
	"github.com/gin-gonic/gin"
	"github.com/goccy/go-json"
	"github.com/ycyun/Cube-API/utils"
	"os/exec"
	"reflect"
	"sync"
	"time"
)

type TypeGlueDaemons struct {
	AlertManager []TypeGlueDaemon `json:"alertmanager"`
	CephExporter []TypeGlueDaemon `json:"ceph-exporter"`
	Crash        []TypeGlueDaemon `json:"crash"`
	Grafana      []TypeGlueDaemon `json:"grafana"`
	ISCSI        []TypeGlueDaemon `json:"iscsi"`
	MDS          []TypeGlueDaemon `json:"mds"`
	MGR          []TypeGlueDaemon `json:"mgr"`
	MON          []TypeGlueDaemon `json:"mon"`
	OSD          []TypeGlueDaemon `json:"osd"`
	Prometheus   []TypeGlueDaemon `json:"prometheus"`
	RGW          []TypeGlueDaemon `json:"rgw"`
	Other        []TypeGlueDaemon `json:"other"`
	RefreshTime  time.Time
}
type TypeGlueDaemon struct {
	ContainerId           string    `json:"container_id"`
	ContainerImageDigests []string  `json:"container_image_digests"`
	ContainerImageId      string    `json:"container_image_id"`
	ContainerImageName    string    `json:"container_image_name"`
	CpuPercentage         string    `json:"cpu_percentage"`
	Created               time.Time `json:"created"`
	DaemonId              string    `json:"daemon_id"`
	DaemonName            string    `json:"daemon_name"`
	DaemonType            string    `json:"daemon_type"`
	Hostname              string    `json:"hostname"`
	IsActive              bool      `json:"is_active"`
	LastRefresh           time.Time `json:"last_refresh"`
	MemoryUsage           int       `json:"memory_usage"`
	Ports                 []int     `json:"ports"`
	ServiceName           string    `json:"service_name"`
	Started               time.Time `json:"started"`
	Status                int       `json:"status"`
	StatusDesc            string    `json:"status_desc"`
	Version               string    `json:"version"`
	Events                []string  `json:"events,omitempty"`
	MemoryRequest         int64     `json:"memory_request,omitempty"`
}

var lockGlueDaemonList sync.Once

var _glueDaemonList *TypeGlueDaemons

func DaemonList() *TypeGlueDaemons {
	if _glueDaemonList == nil {
		lockGlueDaemonList.Do(
			func() {
				if gin.IsDebugging() {
					fmt.Println("Creating ", reflect.TypeOf(_glueDaemonList), " now.")
				}
				_glueDaemonList = &TypeGlueDaemons{}
			})
	} else {
		if gin.IsDebugging() {
			fmt.Println("get old instance.")
		}
	}
	return _glueDaemonList
}

func UpdateDaemonList() *TypeGlueDaemons {
	var _glueDaemonLists []TypeGlueDaemon
	if gin.Mode() == gin.ReleaseMode {
		var stdout []byte

		cmd := exec.Command("ceph", "orch", "ps", "-f", "json")
		stdout, _ = cmd.CombinedOutput()

		if err := json.Unmarshal(stdout, &_glueDaemonLists); err != nil && gin.IsDebugging() {
			utils.FancyHandleError(err)

		}
	} else {

		stdout := []byte("[\n  {\n    \"container_id\": \"e0f8400e9032\",\n    \"container_image_digests\": [\n      \"localhost:5000/prom/alertmanager@sha256:f7eea8968d1ae57134d3d7f0224c6d71b3089068eb581d3bf53edf41d1d2876e\"\n    ],\n    \"container_image_id\": \"c8568f914cd25b2062c44e9f79f9c18da6e3b85fe0c47a12a2191c61426c2b19\",\n    \"container_image_name\": \"localhost:5000/prom/alertmanager:ablestack\",\n    \"cpu_percentage\": \"0.09%\",\n    \"created\": \"2024-04-09T03:13:19.056610Z\",\n    \"daemon_id\": \"scvm1\",\n    \"daemon_name\": \"alertmanager.scvm1\",\n    \"daemon_type\": \"alertmanager\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": true,\n    \"last_refresh\": \"2025-01-07T06:53:55.264906Z\",\n    \"memory_usage\": 27745320,\n    \"ports\": [\n      9093,\n      9094\n    ],\n    \"service_name\": \"alertmanager\",\n    \"started\": \"2025-01-06T00:48:05.424341Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"0.25.0\"\n  },\n  {\n    \"container_id\": \"8d6e30f668e7\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.00%\",\n    \"created\": \"2024-04-09T03:13:12.105446Z\",\n    \"daemon_id\": \"scvm1\",\n    \"daemon_name\": \"ceph-exporter.scvm1\",\n    \"daemon_type\": \"ceph-exporter\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.264708Z\",\n    \"memory_usage\": 19398656,\n    \"ports\": [],\n    \"service_name\": \"ceph-exporter\",\n    \"started\": \"2025-01-06T00:48:05.496815Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"2160eaaca88b\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.06%\",\n    \"created\": \"2024-04-09T03:13:41.585773Z\",\n    \"daemon_id\": \"scvm2\",\n    \"daemon_name\": \"ceph-exporter.scvm2\",\n    \"daemon_type\": \"ceph-exporter\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.513356Z\",\n    \"memory_usage\": 19377684,\n    \"ports\": [],\n    \"service_name\": \"ceph-exporter\",\n    \"started\": \"2025-01-06T00:47:12.085553Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"293e479b7698\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.07%\",\n    \"created\": \"2024-04-09T03:14:00.143121Z\",\n    \"daemon_id\": \"scvm3\",\n    \"daemon_name\": \"ceph-exporter.scvm3\",\n    \"daemon_type\": \"ceph-exporter\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.238288Z\",\n    \"memory_usage\": 19545456,\n    \"ports\": [],\n    \"service_name\": \"ceph-exporter\",\n    \"started\": \"2025-01-06T00:45:54.281254Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"b57dced2e68d\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"0.00%\",\n    \"created\": \"2024-04-09T03:13:14.158490Z\",\n    \"daemon_id\": \"scvm1\",\n    \"daemon_name\": \"crash.scvm1\",\n    \"daemon_type\": \"crash\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.264776Z\",\n    \"memory_usage\": 7043284,\n    \"ports\": [],\n    \"service_name\": \"crash\",\n    \"started\": \"2025-01-06T00:48:05.368878Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"ea3e0c76dc36\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"0.00%\",\n    \"created\": \"2024-04-09T03:14:02.127442Z\",\n    \"daemon_id\": \"scvm2\",\n    \"daemon_name\": \"crash.scvm2\",\n    \"daemon_type\": \"crash\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.513479Z\",\n    \"memory_usage\": 7065305,\n    \"ports\": [],\n    \"service_name\": \"crash\",\n    \"started\": \"2025-01-06T00:47:12.087935Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"23cfd1f98304\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"0.00%\",\n    \"created\": \"2024-04-09T03:14:04.202173Z\",\n    \"daemon_id\": \"scvm3\",\n    \"daemon_name\": \"crash.scvm3\",\n    \"daemon_type\": \"crash\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.238397Z\",\n    \"memory_usage\": 7065305,\n    \"ports\": [],\n    \"service_name\": \"crash\",\n    \"started\": \"2025-01-06T00:45:54.282739Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"e965ea4caa45\",\n    \"container_image_digests\": [\n      \"localhost:5000/ceph/ceph-grafana@sha256:bafb0c03170e5e7a03ac00455af50d183a4e617a4ce3ba86e8e0ae751fdf1afa\"\n    ],\n    \"container_image_id\": \"2c41d148cca3b369f9899e048d3215231c6d323588e28cbe05e02d8a896d7315\",\n    \"container_image_name\": \"localhost:5000/ceph/ceph-grafana:ablestack\",\n    \"cpu_percentage\": \"0.99%\",\n    \"created\": \"2024-04-09T03:13:23.054750Z\",\n    \"daemon_id\": \"scvm1\",\n    \"daemon_name\": \"grafana.scvm1\",\n    \"daemon_type\": \"grafana\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": true,\n    \"last_refresh\": \"2025-01-07T06:53:55.264971Z\",\n    \"memory_usage\": 117545369,\n    \"ports\": [\n      3000\n    ],\n    \"service_name\": \"grafana\",\n    \"started\": \"2025-01-06T00:48:05.358026Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"9.4.7\"\n  },\n  {\n    \"container_id\": \"b054fcf90e6c\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"0.11%\",\n    \"created\": \"2024-05-29T06:13:57.846304Z\",\n    \"daemon_id\": \"iscsi.scvm2.kejfwe\",\n    \"daemon_name\": \"iscsi.iscsi.scvm2.kejfwe\",\n    \"daemon_type\": \"iscsi\",\n    \"events\": [\n      \"2025-01-06T00:48:35.594638Z daemon:iscsi.iscsi.scvm2.kejfwe [INFO] \\\"Reconfigured iscsi.iscsi.scvm2.kejfwe on host 'scvm2'\\\"\"\n    ],\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.514261Z\",\n    \"memory_usage\": 100264837,\n    \"ports\": [\n      5500\n    ],\n    \"service_name\": \"iscsi.iscsi\",\n    \"started\": \"2025-01-06T00:48:35.476426Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"3.6\"\n  },\n  {\n    \"container_id\": \"7998e89871df\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"0.09%\",\n    \"created\": \"2024-04-09T07:07:58.518238Z\",\n    \"daemon_id\": \"GlueFS.scvm1.lkkini\",\n    \"daemon_name\": \"mds.GlueFS.scvm1.lkkini\",\n    \"daemon_type\": \"mds\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.265544Z\",\n    \"memory_usage\": 28311552,\n    \"ports\": [],\n    \"service_name\": \"mds.GlueFS\",\n    \"started\": \"2025-01-06T00:48:05.368855Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"18fecfe234cb\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"0.25%\",\n    \"created\": \"2024-04-09T07:08:00.811231Z\",\n    \"daemon_id\": \"GlueFS.scvm2.cpgggc\",\n    \"daemon_name\": \"mds.GlueFS.scvm2.cpgggc\",\n    \"daemon_type\": \"mds\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": true,\n    \"last_refresh\": \"2025-01-07T06:53:54.514132Z\",\n    \"memory_usage\": 33323745,\n    \"ports\": [],\n    \"service_name\": \"mds.GlueFS\",\n    \"started\": \"2025-01-06T00:47:12.081580Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"4240ee323fe9\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"2.82%\",\n    \"created\": \"2024-04-09T03:12:26.492470Z\",\n    \"daemon_id\": \"scvm1.vdxotg\",\n    \"daemon_name\": \"mgr.scvm1.vdxotg\",\n    \"daemon_type\": \"mgr\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": true,\n    \"last_refresh\": \"2025-01-07T06:53:55.264636Z\",\n    \"memory_usage\": 688809574,\n    \"ports\": [\n      9283,\n      8765,\n      8443\n    ],\n    \"service_name\": \"mgr\",\n    \"started\": \"2025-01-06T00:48:05.368859Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"fae791dedf91\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"0.16%\",\n    \"created\": \"2024-04-09T03:14:11.850271Z\",\n    \"daemon_id\": \"scvm3.ccomul\",\n    \"daemon_name\": \"mgr.scvm3.ccomul\",\n    \"daemon_type\": \"mgr\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.238531Z\",\n    \"memory_usage\": 459276288,\n    \"ports\": [\n      8443,\n      9283,\n      8765\n    ],\n    \"service_name\": \"mgr\",\n    \"started\": \"2025-01-06T00:45:54.288687Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"0536aebdbcf4\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.49%\",\n    \"created\": \"2024-04-09T03:12:23.376403Z\",\n    \"daemon_id\": \"scvm1\",\n    \"daemon_name\": \"mon.scvm1\",\n    \"daemon_type\": \"mon\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.264535Z\",\n    \"memory_request\": 2147483648,\n    \"memory_usage\": 419535257,\n    \"ports\": [],\n    \"service_name\": \"mon\",\n    \"started\": \"2025-01-06T00:48:05.368864Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"79c730c11ecb\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.15%\",\n    \"created\": \"2024-04-09T03:14:23.500942Z\",\n    \"daemon_id\": \"scvm2\",\n    \"daemon_name\": \"mon.scvm2\",\n    \"daemon_type\": \"mon\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.513627Z\",\n    \"memory_request\": 2147483648,\n    \"memory_usage\": 414397235,\n    \"ports\": [],\n    \"service_name\": \"mon\",\n    \"started\": \"2025-01-06T00:47:12.081602Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"fd44750cf7fe\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.30%\",\n    \"created\": \"2024-04-09T03:14:16.656489Z\",\n    \"daemon_id\": \"scvm3\",\n    \"daemon_name\": \"mon.scvm3\",\n    \"daemon_type\": \"mon\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.238597Z\",\n    \"memory_request\": 2147483648,\n    \"memory_usage\": 420164403,\n    \"ports\": [],\n    \"service_name\": \"mon\",\n    \"started\": \"2025-01-06T00:45:54.282698Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"ad458c6c72cc\",\n    \"container_image_digests\": [\n      \"localhost:5000/prom/node-exporter@sha256:e1b00708f2c94c21310abf8ec148747b1da351ad5dd6e46b705c04f71818ffe8\"\n    ],\n    \"container_image_id\": \"0da6a335fe1356545476b749c68f022c897de3a2139e8f0054f6937349ee2b83\",\n    \"container_image_name\": \"localhost:5000/prom/node-exporter:ablestack\",\n    \"cpu_percentage\": \"0.25%\",\n    \"created\": \"2024-04-09T03:13:15.931528Z\",\n    \"daemon_id\": \"scvm1\",\n    \"daemon_name\": \"node-exporter.scvm1\",\n    \"daemon_type\": \"node-exporter\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.264841Z\",\n    \"memory_usage\": 17490247,\n    \"ports\": [\n      9100\n    ],\n    \"service_name\": \"node-exporter\",\n    \"started\": \"2025-01-06T00:48:05.356941Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"1.5.0\"\n  },\n  {\n    \"container_id\": \"4ca639bfda7d\",\n    \"container_image_digests\": [\n      \"localhost:5000/prom/node-exporter@sha256:e1b00708f2c94c21310abf8ec148747b1da351ad5dd6e46b705c04f71818ffe8\"\n    ],\n    \"container_image_id\": \"0da6a335fe1356545476b749c68f022c897de3a2139e8f0054f6937349ee2b83\",\n    \"container_image_name\": \"localhost:5000/prom/node-exporter:ablestack\",\n    \"cpu_percentage\": \"0.22%\",\n    \"created\": \"2024-04-09T03:14:06.056534Z\",\n    \"daemon_id\": \"scvm2\",\n    \"daemon_name\": \"node-exporter.scvm2\",\n    \"daemon_type\": \"node-exporter\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.513548Z\",\n    \"memory_usage\": 17899192,\n    \"ports\": [\n      9100\n    ],\n    \"service_name\": \"node-exporter\",\n    \"started\": \"2025-01-06T00:47:12.072588Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"1.5.0\"\n  },\n  {\n    \"container_id\": \"3f93e32c1e2c\",\n    \"container_image_digests\": [\n      \"localhost:5000/prom/node-exporter@sha256:e1b00708f2c94c21310abf8ec148747b1da351ad5dd6e46b705c04f71818ffe8\"\n    ],\n    \"container_image_id\": \"0da6a335fe1356545476b749c68f022c897de3a2139e8f0054f6937349ee2b83\",\n    \"container_image_name\": \"localhost:5000/prom/node-exporter:ablestack\",\n    \"cpu_percentage\": \"0.23%\",\n    \"created\": \"2024-04-09T03:14:08.893233Z\",\n    \"daemon_id\": \"scvm3\",\n    \"daemon_name\": \"node-exporter.scvm3\",\n    \"daemon_type\": \"node-exporter\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.238466Z\",\n    \"memory_usage\": 17867735,\n    \"ports\": [\n      9100\n    ],\n    \"service_name\": \"node-exporter\",\n    \"started\": \"2025-01-06T00:45:54.279285Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"1.5.0\"\n  },\n  {\n    \"container_id\": \"1e7920841e94\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.85%\",\n    \"created\": \"2024-04-09T03:22:15.885975Z\",\n    \"daemon_id\": \"0\",\n    \"daemon_name\": \"osd.0\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.265114Z\",\n    \"memory_request\": 1187498257,\n    \"memory_usage\": 1085552984,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:48:08.447898Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"02d9e3027856\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"2.34%\",\n    \"created\": \"2024-04-09T03:22:19.772066Z\",\n    \"daemon_id\": \"12\",\n    \"daemon_name\": \"osd.12\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.265195Z\",\n    \"memory_request\": 1187498257,\n    \"memory_usage\": 1291711414,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:48:08.541327Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"6b11c9e2cfe9\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"2.00%\",\n    \"created\": \"2024-04-09T03:22:23.855162Z\",\n    \"daemon_id\": \"15\",\n    \"daemon_name\": \"osd.15\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.265264Z\",\n    \"memory_request\": 1187498257,\n    \"memory_usage\": 872729804,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:48:08.504642Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"1ab792253cbd\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.32%\",\n    \"created\": \"2024-04-09T03:22:27.922257Z\",\n    \"daemon_id\": \"3\",\n    \"daemon_name\": \"osd.3\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.265332Z\",\n    \"memory_request\": 1187498257,\n    \"memory_usage\": 1082331758,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:48:08.561147Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"7510f1c5e979\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.73%\",\n    \"created\": \"2024-04-09T03:22:31.985352Z\",\n    \"daemon_id\": \"6\",\n    \"daemon_name\": \"osd.6\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.265411Z\",\n    \"memory_request\": 1187498257,\n    \"memory_usage\": 1013029273,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:48:08.578951Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"fdad17dc9015\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"2.98%\",\n    \"created\": \"2024-04-09T03:22:36.132447Z\",\n    \"daemon_id\": \"9\",\n    \"daemon_name\": \"osd.9\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.265477Z\",\n    \"memory_request\": 1187498257,\n    \"memory_usage\": 1226213163,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:48:08.560801Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"be3fdfcdcdf2\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"3.49%\",\n    \"created\": \"2024-04-09T03:22:16.263119Z\",\n    \"daemon_id\": \"1\",\n    \"daemon_name\": \"osd.1\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.513700Z\",\n    \"memory_request\": 2261240081,\n    \"memory_usage\": 1552630677,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:47:14.361856Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"375d591da662\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"2.44%\",\n    \"created\": \"2024-04-09T03:22:20.483217Z\",\n    \"daemon_id\": \"10\",\n    \"daemon_name\": \"osd.10\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.513781Z\",\n    \"memory_request\": 2261240081,\n    \"memory_usage\": 1808181231,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:47:14.633889Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"6017b605a5fc\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"2.41%\",\n    \"created\": \"2024-04-09T03:22:24.654315Z\",\n    \"daemon_id\": \"14\",\n    \"daemon_name\": \"osd.14\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.513851Z\",\n    \"memory_request\": 2261240081,\n    \"memory_usage\": 1386200694,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:47:14.517166Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"300d373b0888\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.95%\",\n    \"created\": \"2024-04-09T03:22:28.701410Z\",\n    \"daemon_id\": \"17\",\n    \"daemon_name\": \"osd.17\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.513919Z\",\n    \"memory_request\": 2261240081,\n    \"memory_usage\": 1321776185,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:47:14.460898Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"e079e39355c1\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"2.38%\",\n    \"created\": \"2024-04-09T03:22:32.927510Z\",\n    \"daemon_id\": \"4\",\n    \"daemon_name\": \"osd.4\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.513986Z\",\n    \"memory_request\": 2261240081,\n    \"memory_usage\": 1706175758,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:47:14.422062Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"b34f0cc27f7f\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"2.22%\",\n    \"created\": \"2024-04-09T03:22:36.991606Z\",\n    \"daemon_id\": \"7\",\n    \"daemon_name\": \"osd.7\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.514053Z\",\n    \"memory_request\": 2261240081,\n    \"memory_usage\": 1401233080,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:47:14.589706Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"522af1f25bbd\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"2.29%\",\n    \"created\": \"2024-04-09T03:22:19.686836Z\",\n    \"daemon_id\": \"11\",\n    \"daemon_name\": \"osd.11\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.238660Z\",\n    \"memory_request\": 2091597472,\n    \"memory_usage\": 1350767214,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:45:56.688277Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"4c17b2956dda\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.66%\",\n    \"created\": \"2024-04-09T03:22:23.749913Z\",\n    \"daemon_id\": \"13\",\n    \"daemon_name\": \"osd.13\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.238739Z\",\n    \"memory_request\": 2091597472,\n    \"memory_usage\": 1432371593,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:45:56.827119Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"ab09c7b2d0ce\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.79%\",\n    \"created\": \"2024-04-09T03:22:27.875991Z\",\n    \"daemon_id\": \"16\",\n    \"daemon_name\": \"osd.16\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.238806Z\",\n    \"memory_request\": 2091597472,\n    \"memory_usage\": 1373315792,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:45:56.733762Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"04edee340aa7\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"4.35%\",\n    \"created\": \"2024-04-09T03:22:31.948067Z\",\n    \"daemon_id\": \"18\",\n    \"daemon_name\": \"osd.18\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.238873Z\",\n    \"memory_request\": 2091597472,\n    \"memory_usage\": 1464583847,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:45:56.854890Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"4d61c48bd94c\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.93%\",\n    \"created\": \"2024-04-09T03:22:36.071145Z\",\n    \"daemon_id\": \"2\",\n    \"daemon_name\": \"osd.2\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.238939Z\",\n    \"memory_request\": 2091597472,\n    \"memory_usage\": 1284195221,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:45:56.729163Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"632c5b86ce64\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.49%\",\n    \"created\": \"2024-04-09T03:22:40.236223Z\",\n    \"daemon_id\": \"5\",\n    \"daemon_name\": \"osd.5\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.239002Z\",\n    \"memory_request\": 2091597472,\n    \"memory_usage\": 1398011854,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:45:56.656059Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"0b833b46ff8b\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"1.62%\",\n    \"created\": \"2024-04-09T03:22:44.494303Z\",\n    \"daemon_id\": \"8\",\n    \"daemon_name\": \"osd.8\",\n    \"daemon_type\": \"osd\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.239076Z\",\n    \"memory_request\": 2091597472,\n    \"memory_usage\": 1398011854,\n    \"ports\": [],\n    \"service_name\": \"osd.dashboard-ablecloud-1712632907489\",\n    \"started\": \"2025-01-06T00:45:56.667611Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"c880d181c175\",\n    \"container_image_digests\": [\n      \"localhost:5000/prom/prometheus@sha256:d121323f39f14487c3364810ddeee7a54076035303869462af0bdde34fba4601\"\n    ],\n    \"container_image_id\": \"a07b618ecd1dce142bce4c52f0e80982eaf1f14265a2415c2d35978ccaa0a464\",\n    \"container_image_name\": \"localhost:5000/prom/prometheus:ablestack\",\n    \"cpu_percentage\": \"1.07%\",\n    \"created\": \"2024-04-09T03:13:26.686855Z\",\n    \"daemon_id\": \"scvm1\",\n    \"daemon_name\": \"prometheus.scvm1\",\n    \"daemon_type\": \"prometheus\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": true,\n    \"last_refresh\": \"2025-01-07T06:53:55.265034Z\",\n    \"memory_usage\": 123312537,\n    \"ports\": [\n      9095\n    ],\n    \"service_name\": \"prometheus\",\n    \"started\": \"2025-01-06T00:48:05.366196Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"2.43.0\"\n  },\n  {\n    \"container_id\": \"c07f69698b22\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"0.31%\",\n    \"created\": \"2024-04-11T05:03:37.917559Z\",\n    \"daemon_id\": \"rgw.scvm1.zkldzc\",\n    \"daemon_name\": \"rgw.rgw.scvm1.zkldzc\",\n    \"daemon_type\": \"rgw\",\n    \"hostname\": \"scvm1\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:55.265617Z\",\n    \"memory_usage\": 101596528,\n    \"ports\": [\n      80\n    ],\n    \"service_name\": \"rgw.rgw\",\n    \"started\": \"2025-01-06T00:48:05.369054Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"9ae2e2bc51e7\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"0.30%\",\n    \"created\": \"2024-04-11T05:03:34.746148Z\",\n    \"daemon_id\": \"rgw.scvm2.yvrccq\",\n    \"daemon_name\": \"rgw.rgw.scvm2.yvrccq\",\n    \"daemon_type\": \"rgw\",\n    \"hostname\": \"scvm2\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.514196Z\",\n    \"memory_usage\": 97916026,\n    \"ports\": [\n      80\n    ],\n    \"service_name\": \"rgw.rgw\",\n    \"started\": \"2025-01-06T00:47:12.085577Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  },\n  {\n    \"container_id\": \"e89d3db7d869\",\n    \"container_image_digests\": [\n      \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\"\n    ],\n    \"container_image_id\": \"939dd451021df6afa14779b78ec0205742773e279dd59cfe3755543db15b83e6\",\n    \"container_image_name\": \"localhost:5000/glue/daemon@sha256:f4871e81fbb6f2923f045017a1dda8567446fdc2d42a590a15f0a231fa1a4873\",\n    \"cpu_percentage\": \"0.30%\",\n    \"created\": \"2024-04-11T05:03:31.673945Z\",\n    \"daemon_id\": \"rgw.scvm3.kvgthh\",\n    \"daemon_name\": \"rgw.rgw.scvm3.kvgthh\",\n    \"daemon_type\": \"rgw\",\n    \"hostname\": \"scvm3\",\n    \"is_active\": false,\n    \"last_refresh\": \"2025-01-07T06:53:54.239144Z\",\n    \"memory_usage\": 99038003,\n    \"ports\": [\n      80\n    ],\n    \"service_name\": \"rgw.rgw\",\n    \"started\": \"2025-01-06T00:45:54.281381Z\",\n    \"status\": 1,\n    \"status_desc\": \"running\",\n    \"version\": \"Glue-v4.2.2\"\n  }\n]\n")

		if err := json.Unmarshal(stdout, &_glueDaemonLists); err != nil {
			utils.FancyHandleError(err)

		}
	}
	for _, _glueDaemon := range _glueDaemonLists {
		switch _glueDaemon.DaemonType {
		case "alertmanager":
			_glueDaemonList.AlertManager = append(_glueDaemonList.AlertManager, _glueDaemon)
		case "ceph-exporter":
			_glueDaemonList.CephExporter = append(_glueDaemonList.CephExporter, _glueDaemon)
		case "crash":
			_glueDaemonList.Crash = append(_glueDaemonList.Crash, _glueDaemon)
		case "grafana":
			_glueDaemonList.Grafana = append(_glueDaemonList.Grafana, _glueDaemon)
		case "iscsi":
			_glueDaemonList.ISCSI = append(_glueDaemonList.ISCSI, _glueDaemon)
		case "mds":
			_glueDaemonList.MDS = append(_glueDaemonList.MDS, _glueDaemon)
		case "mgr":
			_glueDaemonList.MGR = append(_glueDaemonList.MGR, _glueDaemon)
		case "mon":
			_glueDaemonList.MON = append(_glueDaemonList.MON, _glueDaemon)
		case "osd":
			_glueDaemonList.OSD = append(_glueDaemonList.OSD, _glueDaemon)
		case "prometheus":
			_glueDaemonList.Prometheus = append(_glueDaemonList.Prometheus, _glueDaemon)
		case "rgw":
			_glueDaemonList.RGW = append(_glueDaemonList.RGW, _glueDaemon)
		default:
			_glueDaemonList.Other = append(_glueDaemonList.Other, _glueDaemon)

		}

	}
	_glueDaemonList.RefreshTime = time.Now()
	return _glueDaemonList
}
